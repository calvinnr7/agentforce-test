<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Agentforce Test â€“ GitHub Pages</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
	
  <meta name="robots" content="noindex,nofollow" />
  <!-- See Step 1 for why this CSP is needed -->
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self' https: data: blob:;
             script-src 'self' https: 'unsafe-inline' 'unsafe-eval';
             connect-src 'self' https: wss:;
             img-src 'self' https: data: blob:;
             style-src 'self' 'unsafe-inline' https:;
             frame-src https:;
             font-src 'self' https: data:;">
<style>
  :root {
    --brand-green: #0AA373;
    --brand-green-dark: #0A855F;
    --brand-bg: #e6f5f0;
  }

  body {
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    margin: 0;
    background: var(--brand-green);
    color: #fff;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .card {
    background: #fff;
    border-radius: 16px;
    padding: 24px;
    max-width: 760px;
    width: 90%;
    box-shadow: 0 12px 28px rgba(0,0,0,.25);
    color: #111;
  }

  h1 {
    color: var(--brand-green-dark);
    margin-top: 0;
  }

  .muted {
    color: #6b7280;
    font-size: .95rem;
  }

  button {
    padding: .6rem 1.2rem;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    font-weight: 600;
    margin-right: .5rem;
  }

  button:first-of-type {
    background: var(--brand-green);
    color: #fff;
  }

  button:first-of-type:hover {
    background: var(--brand-green-dark);
  }

  button:last-of-type {
    background: #f3f4f6;
    color: #111;
  }

  pre#log {
    background: #f9fafb;
    padding: 12px;
    border-radius: 8px;
    margin-top: 16px;
    overflow-x: auto;
    font-size: .85rem;
  }
</style>

</head>
<body>
  <div class="card">
    <h1>Agentforce (MIAW) â€“ Test Page</h1>
    <p class="muted">Hosted on GitHub Pages. Not indexed. Use for safe agent testing.</p>
    <p>
      <button onclick="openChat()">Open Chat</button>
      <button onclick="location.reload()">Hard Refresh</button>
    </p>
    <pre id="log" class="muted"></pre>
  </div>

  <!-- ðŸ”½ Paste the official Messaging web snippet from Salesforce here (verbatim) ðŸ”½ -->
  <script type='text/javascript'>
	function initEmbeddedMessaging() {
		try {
			embeddedservice_bootstrap.settings.language = 'en_US'; // For example, enter 'en' or 'en-US'
			embeddedservice_bootstrap.settings.enableUserInputForConversationWithBot = false;

			embeddedservice_bootstrap.init(
				'00DOg000001Vluv',
				'ONZ_Messaging_Web',
				'https://onz--dcaidev.sandbox.my.site.com/ESWONZMessagingWeb1757919743068',
				{
					scrt2URL: 'https://onz--dcaidev.sandbox.my.salesforce-scrt.com'
				}
			);
		} catch (err) {
			console.error('Error loading Embedded Messaging: ', err);
		}
	};
</script>
<script type='text/javascript' src='https://onz--dcaidev.sandbox.my.site.com/ESWONZMessagingWeb1757919743068/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>


  <script>
    function openChat(){
  try {
    if (window.embeddedservice_bootstrap?.utilAPI){
      embeddedservice_bootstrap.utilAPI.openChat(); // âœ… no ".api"
      log('openChat() called.');
    } else {
      log('Bootstrap not ready yet. Try again in a second.');
    }
  } catch(e) {
    log('openChat error: ' + e.message);
  }
}

    function log(msg){ document.getElementById('log').textContent += msg + '\n'; }
  </script>
</body>
</html>
